(function(){
const M = {
fr: {
meta: { title: "MVITA Travels - Transferts & Excursions à Zanzibar" },
nav: { about: "À propos", services: "Services", booking: "Réservation", reviews: "Avis", contact: "Contact" },
lang: { label: "Langue" },
hero: {
tag: "Zanzibar, Tanzanie",
title: "Transferts & Excursions, esprit de Zanzibar",
subtitle: "Des eaux turquoises aux fermes d’épices, profitez de chauffeurs ponctuels, véhicules confortables et expériences authentiques. Réservez en un clic sur WhatsApp.",
badge1: "Aéroport ↔ Hôtel",
badge2: "Excursions privées",
badge3: "Support WhatsApp"
},
about: {
title: "À propos de MVITA Travels",
p1: "MVITA Travels s’efforce d’offrir la meilleure expérience zanzibarie possible, non pas dans le luxe, mais à un prix abordable et équitable, au contact de la population locale — pas seulement pour des vacances à la plage, mais aussi pour explorer l’île. Ma vision et mon plus grand souhait en créant MVITA Travels ne sont pas l’argent, mais de créer avec mes clients des souvenirs inoubliables qui resteront gravés à vie.",
p2: "Transferts fiables, excursions authentiques, rencontres locales: nous privilégions l’expérience, l’équité et le respect des communautés, pour un Zanzibar vrai et mémorable.",
caption: "Votre hôte à Zanzibar",
cta: "Contacter sur WhatsApp"
},
services: {
title: "Nos services",
card1: { title: "Transferts & Taxi privé", text: "Aéroport ↔ Hôtel et trajets sur mesure. Chauffeurs professionnels, prix clairs.", chip: "Disponible 24/7" },
card2: { title: "Excursions", text: "Safari Blue, Prison Island, Stone Town, dhow au coucher du soleil et plus encore." },
card3: { title: "Spice Tour", text: "Visitez les fermes d’épices, dégustez et découvrez l’héritage swahili." }
},
booking: {
title: "Réservation rapide",
subtitle: "Complétez le formulaire: votre message est prêt pour WhatsApp.",
form: {
service: { label: "Service", opt1: "Transfert Aéroport", opt2: "Taxi privé", opt3: "Safari Blue", opt4: "Prison Island", opt5: "Stone Town", opt6: "Spice Tour" },
date: "Date",
time: "Heure",
passengers: "Passagers",
pickup: "Départ",
dropoff: "Destination",
notes: "Notes",
confirm: "Confirmer",
whatsapp: "WhatsApp"
}
},
reviews: {
title: "Avis clients",
form: { title: "Laisser un avis", rating: "Note", name: "Nom", comment: "Commentaire", submit: "Envoyer l’avis" }
},
footer: { location: "Zanzibar, Tanzanie" },
wa: { welcome: "Bonjour MVITA Travels !", message: { header: "Bonjour MVITA Travels !" } }
},


en: {
  meta: { title: "MVITA Travels - Transfers & Tours in Zanzibar" },
  nav: { about: "About", services: "Services", booking: "Booking", reviews: "Reviews", contact: "Contact" },
  lang: { label: "Language" },
  hero: {
    tag: "Zanzibar, Tanzania",
    title: "Transfers & Tours, spirit of Zanzibar",
    subtitle: "From turquoise waters to spice farms, enjoy punctual drivers, comfortable vehicles and authentic experiences. Book in one click on WhatsApp.",
    badge1: "Airport ↔ Hotel",
    badge2: "Private tours",
    badge3: "WhatsApp support"
  },
  about: {
    title: "About MVITA Travels",
    p1: "MVITA Travels strives to offer the best Zanzibari experience in the world, not in luxury, but at an affordable and fair price, in close contact with local people — not only for beach holidays, but also to explore the island. My vision and greatest wish in creating MVITA Travels is not money, but to create unforgettable memories with my clients that will remain etched in our minds for life.",
    p2: "Reliable transfers, authentic excursions, and meaningful local encounters: we focus on experience, fairness, and respect for communities to deliver a genuine, memorable Zanzibar.",
    caption: "Your host in Zanzibar",
    cta: "Contact on WhatsApp"
  },
  services: {
    title: "Our services",
    card1: { title: "Transfers & Private Taxi", text: "Airport ↔ Hotel and custom rides. Professional drivers, transparent prices.", chip: "Available 24/7" },
    card2: { title: "Excursions", text: "Safari Blue, Prison Island, Stone Town, sunset dhow and more." },
    card3: { title: "Spice Tour", text: "Visit spice farms, taste and discover Swahili heritage." }
  },
  booking: {
    title: "Quick booking",
    subtitle: "Fill out the form: your message is ready for WhatsApp.",
    form: {
      service: { label: "Service", opt1: "Airport transfer", opt2: "Private taxi", opt3: "Safari Blue", opt4: "Prison Island", opt5: "Stone Town", opt6: "Spice Tour" },
      date: "Date",
      time: "Time",
      passengers: "Passengers",
      pickup: "Pickup",
      dropoff: "Destination",
      notes: "Notes",
      confirm: "Confirm",
      whatsapp: "WhatsApp"
    }
  },
  reviews: {
    title: "Customer reviews",
    form: { title: "Leave a review", rating: "Rating", name: "Name", comment: "Comment", submit: "Submit review" }
  },
  footer: { location: "Zanzibar, Tanzania" },
  wa: { welcome: "Hello MVITA Travels!", message: { header: "Hello MVITA Travels!" } }
},

es: {
  meta: { title: "MVITA Travels - Traslados y Excursiones en Zanzíbar" },
  nav: { about: "Acerca de", services: "Servicios", booking: "Reserva", reviews: "Opiniones", contact: "Contacto" },
  lang: { label: "Idioma" },
  hero: {
    tag: "Zanzíbar, Tanzania",
    title: "Traslados y excursiones, espíritu de Zanzíbar",
    subtitle: "De aguas turquesas a granjas de especias, disfrute de conductores puntuales, vehículos cómodos y experiencias auténticas. Reserve con un clic por WhatsApp.",
    badge1: "Aeropuerto ↔ Hotel",
    badge2: "Excursiones privadas",
    badge3: "Soporte por WhatsApp"
  },
  about: {
    title: "Acerca de MVITA Travels",
    p1: "MVITA Travels se esfuerza por ofrecer la mejor experiencia de Zanzíbar, no en el lujo, sino a un precio asequible y justo, en contacto cercano con la población local — no solo para vacaciones en la playa, sino también para explorar la isla. Mi visión y mi mayor deseo al crear MVITA Travels no es el dinero, sino crear con mis clientes recuerdos inolvidables que quedarán grabados para toda la vida.",
    p2: "Traslados fiables, excursiones auténticas y encuentros locales significativos: priorizamos la experiencia, la equidad y el respeto a las comunidades para un Zanzíbar genuino y memorable.",
    caption: "Su anfitrión en Zanzíbar",
    cta: "Contactar por WhatsApp"
  },
  services: {
    title: "Nuestros servicios",
    card1: { title: "Traslados y Taxi privado", text: "Aeropuerto ↔ Hotel y trayectos a medida. Conductores profesionales, precios transparentes.", chip: "Disponible 24/7" },
    card2: { title: "Excursiones", text: "Safari Blue, Prison Island, Stone Town, dhow al atardecer y más." },
    card3: { title: "Spice Tour", text: "Visite plantaciones de especias, deguste y descubra la herencia suajili." }
  },
  booking: {
    title: "Reserva rápida",
    subtitle: "Complete el formulario: su mensaje está listo para WhatsApp.",
    form: {
      service: { label: "Servicio", opt1: "Traslado de aeropuerto", opt2: "Taxi privado", opt3: "Safari Blue", opt4: "Prison Island", opt5: "Stone Town", opt6: "Spice Tour" },
      date: "Fecha",
      time: "Hora",
      passengers: "Pasajeros",
      pickup: "Recogida",
      dropoff: "Destino",
      notes: "Notas",
      confirm: "Confirmar",
      whatsapp: "WhatsApp"
    }
  },
  reviews: {
    title: "Opiniones de clientes",
    form: { title: "Dejar una opinión", rating: "Puntuación", name: "Nombre", comment: "Comentario", submit: "Enviar opinión" }
  },
  footer: { location: "Zanzíbar, Tanzania" },
  wa: { welcome: "¡Hola MVITA Travels!", message: { header: "¡Hola MVITA Travels!" } }
}
};

function getLang(){
const sel = document.getElementById('lang');
if (sel && sel.value) return sel.value;
const html = document.documentElement;
return html.getAttribute('data-lang') || html.getAttribute('lang') || 'fr';
}

function t(key){
const lang = getLang();
const dict = M[lang] || M.fr;
const parts = key.split('.');
let cur = dict;
for (const p of parts){
if (!cur || typeof cur !== 'object') return key;
cur = cur[p];
}
return (typeof cur === 'string') ? cur : key;
}

function applyI18n(){
document.querySelectorAll('[data-i18n]').forEach(el=>{
const key = el.getAttribute('data-i18n');
const val = t(key);
if (val && val !== key) el.textContent = val;
});
document.querySelectorAll('[data-i18n-attr]').forEach(el=>{
const attr = el.getAttribute('data-i18n-attr');
const key = el.getAttribute('data-i18n') || el.getAttribute('data-i18n-key');
if (!attr || !key) return;
const val = t(key);
if (val && val !== key) el.setAttribute(attr, val);
});
const titleEl = document.querySelector('title[data-i18n="meta.title"]');
if (titleEl) titleEl.textContent = t('meta.title');
}

function setLang(lang){
document.documentElement.setAttribute('lang', lang);
document.documentElement.setAttribute('data-lang', lang);
applyI18n();
}

window.__t = t;
window.__setLang = setLang;

document.addEventListener('DOMContentLoaded', ()=>{
applyI18n();
const sel = document.getElementById('lang');
const htmlLang = document.documentElement.getAttribute('data-lang');
if (sel && htmlLang) sel.value = htmlLang;
if (sel) sel.addEventListener('change', ()=> setLang(sel.value));
});
})();